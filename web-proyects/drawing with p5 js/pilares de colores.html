<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <script src="libraries/p5.js"></script>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <script>
        let height=240;
        let width=430;
        let foo=[];

        let j=0;
        let k=0;

        for (i = 0; i < width; i++) {
            foo.push(Math.random()*height);
        }

        //animacion corregida
        function dibujarArray(arr){
            background(0);
            translate(-width/2,height/2);
            //se dibujan las lineas
            for (i = 0; i < arr.length; i++) {
                stroke(arr[i],100,100);
                line(i+width/2,height/2,i+width/2,-height);
            }
        }

        function mayorPos(arr,i){
                let max=i;
            aux=arr[i];
            for (var s=i; s < arr.length-1; s++) {
                if(aux<arr[s+1]){
                    aux=arr[s+1];
                    max=s+1;
                }
            }
            return max;
        }

        function menorPos(arr,i){
            let min=i;
            aux=arr[i];
            for (var s=i; s < arr.length-1; s++) {
                if(aux>arr[s+1]){
                    aux=arr[s+1];
                    min=s+1;
                }
            }
            return min;
        }


        function intercambiar(arr,s,t){
            aux=arr[s];
            arr[s]=arr[t];
            arr[t]=aux;
        }

        function setup() {
            createCanvas(width, height);
            frameRate(60);
            background(0);
            colorMode(HSB);
        }

        j=0;
        function draw() {
            dibujarArray(foo);
            intercambiar(foo,j,menorPos(foo,j));

            if(j<foo.length-1){
                j++;}
        }
    </script>
</body>
</html>
