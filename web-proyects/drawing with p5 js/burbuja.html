<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <script src="https://cdn.jsdelivr.net/npm/p5@1.4.1/lib/p5.js"></script>   

    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <script>
        let height=240;
        let width=430;
        let foo=[];

        let j=0;
        let k=0;

        let cantElem=10;
        let anchoElem=(width/cantElem);

        for  (i = 0; i <cantElem; i++) {
            foo.push(Math.floor(Math.random()*height));
        }

        //animacion corregida
        function dibujarArray(arr,ancho){
            stroke(240);
            strokeCap(SQUARE);
            strokeWeight(ancho);
            background(0);
            translate(0,height/2);
            //se dibujan las lineas
            for (i = 0; i < cantElem; i++) {
                line(i*ancho+ancho/2,height/2,i*ancho+ancho/2,-arr[i]+height/2);
            }
        }

        function setup() {
            createCanvas(width, height);
            frameRate(6);
            background(0);
        }

        function draw() {
            background(0);

            dibujarArray(foo,anchoElem);

            if(j>=cantElem-k    && k<cantElem){
                j=0;
                k++;
            }

            //ahora mismo esta en orden creciente
            if(foo[j]>foo[j+1]){
                aux=foo[j];
                foo[j]=foo[j+1]
                foo[j+1]=aux;
            }

            j++;
        }
    </script>

</body>
</html>
